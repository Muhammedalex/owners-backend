{
	"info": {
		"_postman_id": "8d73cda3-c182-4953-aff2-64776ef76edf",
		"name": "Owners API - V1",
		"description": "Complete API collection for Owners Management System. This collection includes authentication, ownerships, property structure (portfolios, buildings, floors, units), users, roles, permissions, and notifications endpoints with detailed documentation, examples, and error handling.\n\n**Token Storage Strategy:**\n- Access Token: Stored in environment variable (use in Authorization header)\n- Refresh Token: Stored in httpOnly cookie (automatically managed by Postman)\n- Ownership UUID: Stored in httpOnly cookie (automatically managed by Postman)\n\n**Important Notes:**\n- Cookies are automatically sent with requests in Postman\n- View cookies: Click 'Cookies' link below the URL bar\n- Refresh token and ownership_uuid are NOT in JSON responses (they're in httpOnly cookies)\n- Ensure cookies are enabled in Postman settings\n- Use 'Switch Ownership' endpoint to change active ownership scope\n\n**Property Structure Hierarchy:**\n- Ownership → Portfolio → Building → Floor → Unit\n- All property endpoints require `ownership.scope` middleware\n- Ownership scope is MANDATORY for all users (including Super Admin)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "30358504"
	},
	"item": [
		{
			"name": "Public Endpoints",
			"item": [
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.data.tokens.access_token);",
									"    pm.environment.set('user_id', response.data.user.id);",
									"    // Note: refresh_token is automatically stored in httpOnly cookie",
									"    // Cookies are managed automatically by Postman",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"SecurePassword123!\",\n    \"password_confirmation\": \"SecurePassword123!\",\n    \"first\": \"John\",\n    \"last\": \"Doe\",\n    \"phone\": \"+966501234567\",\n    \"company\": \"Example Company\",\n    \"type\": \"owner\",\n    \"device_name\": \"iPhone 14 Pro\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						},
						"description": "Register a new user account. After successful registration, an email verification link will be sent to the provided email address.\n\n**Required Fields:**\n- `email`: Valid email address (must be unique)\n- `password`: Password (min 8 characters, must match password_confirmation)\n- `password_confirmation`: Must match password\n\n**Optional Fields:**\n- `phone`: Phone number (must be unique if provided)\n- `first`: First name\n- `last`: Last name\n- `company`: Company name\n- `type`: User type (default: 'user')\n- `device_name`: Device identifier for token management"
					},
					"response": [
						{
							"name": "Success - User Registered",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"SecurePassword123!\",\n    \"password_confirmation\": \"SecurePassword123!\",\n    \"first\": \"John\",\n    \"last\": \"Doe\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/register",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"register"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Registration successful. Please verify your email.\",\n    \"data\": {\n        \"user\": {\n            \"id\": 1,\n            \"uuid\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"email\": \"user@example.com\",\n            \"phone\": \"+966501234567\",\n            \"phone_verified_at\": null,\n            \"name\": \"John Doe\",\n            \"first\": \"John\",\n            \"last\": \"Doe\",\n            \"company\": \"Example Company\",\n            \"avatar\": null,\n            \"type\": \"owner\",\n            \"active\": true,\n            \"email_verified_at\": null,\n            \"last_login_at\": null,\n            \"timezone\": \"Asia/Riyadh\",\n            \"locale\": \"ar\",\n            \"roles\": [],\n            \"created_at\": \"2025-01-01T00:00:00.000000Z\",\n            \"updated_at\": \"2025-01-01T00:00:00.000000Z\"\n        },\n        \"tokens\": {\n            \"access_token\": \"1|xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n            \"token_type\": \"Bearer\",\n            \"expires_in\": 3600\n        }\n    }\n}"
						},
						{
							"name": "Error - Validation Failed",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"invalid-email\",\n    \"password\": \"123\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/register",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"register"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The email field must be a valid email address. (and 2 more errors)\",\n    \"errors\": {\n        \"email\": [\n            \"The email field must be a valid email address.\"\n        ],\n        \"password\": [\n            \"The password field must be at least 8 characters.\",\n            \"The password confirmation does not match.\"\n        ]\n    }\n}"
						},
						{
							"name": "Error - Email Already Exists",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"existing@example.com\",\n    \"password\": \"SecurePassword123!\",\n    \"password_confirmation\": \"SecurePassword123!\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/register",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"register"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The email has already been taken.\",\n    \"errors\": {\n        \"email\": [\n            \"This email is already registered.\"\n        ]\n    }\n}"
						}
					]
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.data.tokens.access_token);",
									"    pm.environment.set('user_id', response.data.user.id);",
									"    // Note: refresh_token is automatically stored in httpOnly cookie",
									"    // Cookies are managed automatically by Postman",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"SecurePassword123!\",\n    \"device_name\": \"iPhone 14 Pro\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Authenticate a user and receive access token.\n\n**Login Methods:**\nYou can login using either email OR phone:\n- `email` + `password`\n- `phone` + `password`\n\n**Required Fields:**\n- `email` OR `phone`: User identifier\n- `password`: User password\n\n**Optional Fields:**\n- `device_name`: Device identifier for token management\n\n**Response:**\n- `access_token`: Stored in environment variable (use for Authorization header)\n- `refresh_token`: Automatically stored in httpOnly cookie (not in JSON response)\n\n**Security Features:**\n- Rate limiting: 5 attempts per minute per identifier\n- Account lockout after failed attempts\n- Active account verification\n- Login attempt tracking\n- Refresh token in httpOnly cookie (XSS protection)"
					},
					"response": [
						{
							"name": "Success - Login with Email",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"SecurePassword123!\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Login successful.\",\n    \"data\": {\n        \"user\": {\n            \"id\": 1,\n            \"uuid\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"email\": \"user@example.com\",\n            \"name\": \"John Doe\",\n            \"active\": true,\n            \"email_verified_at\": \"2025-01-01T00:00:00.000000Z\",\n            \"last_login_at\": \"2025-01-01T12:00:00.000000Z\",\n            \"roles\": [\"owner\"],\n            \"permissions\": []\n        },\n        \"tokens\": {\n            \"access_token\": \"1|xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n            \"token_type\": \"Bearer\",\n            \"expires_in\": 3600\n        }\n    }\n}"
						},
						{
							"name": "Success - Login with Phone",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone\": \"+966501234567\",\n    \"password\": \"SecurePassword123!\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Login successful.\",\n    \"data\": {\n        \"user\": {\n            \"id\": 1,\n            \"uuid\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"phone\": \"+966501234567\",\n            \"name\": \"John Doe\",\n            \"active\": true\n        },\n        \"tokens\": {\n            \"access_token\": \"1|xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n            \"token_type\": \"Bearer\",\n            \"expires_in\": 3600\n        }\n    }\n}"
						},
						{
							"name": "Error - Invalid Credentials",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"WrongPassword\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"login"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Invalid credentials.\"\n}"
						},
						{
							"name": "Error - Account Deactivated",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"deactivated@example.com\",\n    \"password\": \"SecurePassword123!\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"login"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Your account has been deactivated.\"\n}"
						},
						{
							"name": "Error - Too Many Attempts",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"WrongPassword\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"login"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed.\",\n    \"errors\": {\n        \"email\": [\n            \"Too many login attempts. Please try again in 45 seconds.\"\n        ]\n    }\n}"
						}
					]
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.data.tokens.access_token);",
									"    // Note: refresh_token is automatically updated in httpOnly cookie",
									"    // Cookies are managed automatically by Postman",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"refresh"
							]
						},
						"description": "Refresh an expired access token using refresh token from cookie.\n\n**How it works:**\n1. When access token expires, call this endpoint\n2. Refresh token is automatically sent from httpOnly cookie\n3. Old refresh token is invalidated\n4. New access token returned in JSON\n5. New refresh token set in httpOnly cookie\n6. Token rotation for enhanced security\n\n**Request:**\n- Empty body (refresh token comes from cookie)\n- Cookie is automatically sent by Postman\n\n**Response:**\n- `access_token`: New access token (stored in environment)\n- `refresh_token`: Automatically updated in httpOnly cookie\n\n**Token Expiration:**\n- Access Token: 60 minutes (configurable)\n- Refresh Token: 30 days (configurable)\n\n**Security:**\n- Refresh tokens are hashed in database\n- Refresh token in httpOnly cookie (XSS protection)\n- Old tokens are automatically revoked\n- Device tracking maintained\n\n**Postman Cookie Management:**\n- Cookies are automatically managed by Postman\n- View cookies: Click 'Cookies' link below URL bar\n- Ensure cookies are enabled in Postman settings"
					},
					"response": [
						{
							"name": "Success - Token Refreshed",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/refresh",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"refresh"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Token refreshed successfully.\",\n    \"data\": {\n        \"user\": {\n            \"id\": 1,\n            \"uuid\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"email\": \"user@example.com\",\n            \"name\": \"John Doe\"\n        },\n        \"tokens\": {\n            \"access_token\": \"2|yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\",\n            \"token_type\": \"Bearer\",\n            \"expires_in\": 3600\n        }\n    }\n}"
						},
						{
							"name": "Error - Invalid Refresh Token",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/refresh",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"refresh"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Invalid or expired refresh token.\"\n}"
						},
						{
							"name": "Error - Expired Refresh Token",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/refresh",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"refresh"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Invalid or expired refresh token.\"\n}"
						}
					]
				},
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/forgot-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"forgot-password"
							]
						},
						"description": "Request a password reset link to be sent to the user's email.\n\n**Required Fields:**\n- `email`: Registered email address\n\n**Process:**\n1. User submits email\n2. System sends password reset link to email\n3. Link contains secure token\n4. User clicks link and resets password\n\n**Security:**\n- Token expires after configured time\n- One-time use tokens\n- Email must exist in system"
					},
					"response": [
						{
							"name": "Success",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"user@example.com\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/forgot-password",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"forgot-password"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Password reset link sent to your email.\"\n}"
						},
						{
							"name": "Error - Email Not Found",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"notfound@example.com\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/forgot-password",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"forgot-password"
									]
								}
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The selected email is invalid.\",\n    \"errors\": {\n        \"email\": [\n            \"The selected email is invalid.\"\n        ]\n    }\n}"
						}
					]
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"token\": \"reset_token_from_email\",\n    \"email\": \"user@example.com\",\n    \"password\": \"NewSecurePassword123!\",\n    \"password_confirmation\": \"NewSecurePassword123!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"reset-password"
							]
						},
						"description": "Reset user password using the token received via email.\n\n**Required Fields:**\n- `token`: Password reset token from email link\n- `email`: User's email address\n- `password`: New password (min 8 characters)\n- `password_confirmation`: Must match password\n\n**Process:**\n1. User receives email with reset link\n2. Link contains token parameter\n3. User submits new password with token\n4. Password is updated and token is invalidated"
					},
					"response": [
						{
							"name": "Success",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"token\": \"valid_token\",\n    \"email\": \"user@example.com\",\n    \"password\": \"NewSecurePassword123!\",\n    \"password_confirmation\": \"NewSecurePassword123!\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/reset-password",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"reset-password"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Password reset successfully.\"\n}"
						},
						{
							"name": "Error - Invalid Token",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"token\": \"invalid_token\",\n    \"email\": \"user@example.com\",\n    \"password\": \"NewSecurePassword123!\",\n    \"password_confirmation\": \"NewSecurePassword123!\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/reset-password",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"reset-password"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Unable to reset password.\"\n}"
						}
					]
				},
				{
					"name": "Verify Email",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/verify-email/:id/:hash",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"verify-email",
								":id",
								":hash"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								},
								{
									"key": "hash",
									"value": "email_verification_hash",
									"description": "Email verification hash"
								}
							]
						},
						"description": "Verify user email address using the verification link sent to email.\n\n**URL Parameters:**\n- `id`: User ID\n- `hash`: Email verification hash (from email link)\n\n**Process:**\n1. User receives verification email after registration\n2. Email contains link with user ID and hash\n3. User clicks link\n4. Email is verified\n\n**Security:**\n- Hash is generated from user email\n- One-time verification\n- Link expires after configured time"
					},
					"response": [
						{
							"name": "Success",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/v1/auth/verify-email/1/valid_hash",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"verify-email",
										"1",
										"valid_hash"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Email verified successfully.\"\n}"
						},
						{
							"name": "Error - Invalid Link",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/v1/auth/verify-email/1/invalid_hash",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"verify-email",
										"1",
										"invalid_hash"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Invalid verification link.\"\n}"
						}
					]
				}
			],
			"description": "Public endpoints that don't require authentication."
		},
		{
			"name": "Protected Endpoints",
			"item": [
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"description": "Bearer token authentication",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"me"
							]
						},
						"description": "Get the currently authenticated user's profile information.\n\n**Authentication:**\n- Requires valid access token in Authorization header\n- Format: `Bearer {access_token}`\n\n**Response Includes:**\n- User profile data\n- Roles and permissions (if user has permission to view)\n- Account status\n- Verification status"
					},
					"response": [
						{
							"name": "Success",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer valid_token"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/auth/me",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"me"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": 1,\n        \"uuid\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"email\": \"user@example.com\",\n        \"phone\": \"+966501234567\",\n        \"name\": \"John Doe\",\n        \"first\": \"John\",\n        \"last\": \"Doe\",\n        \"company\": \"Example Company\",\n        \"type\": \"owner\",\n        \"active\": true,\n        \"email_verified_at\": \"2025-01-01T00:00:00.000000Z\",\n        \"last_login_at\": \"2025-01-01T12:00:00.000000Z\",\n        \"timezone\": \"Asia/Riyadh\",\n        \"locale\": \"ar\",\n        \"roles\": [\"owner\"],\n        \"permissions\": [\"ownerships.view\", \"properties.view\"],\n        \"created_at\": \"2025-01-01T00:00:00.000000Z\",\n        \"updated_at\": \"2025-01-01T00:00:00.000000Z\"\n    }\n}"
						},
						{
							"name": "Error - Unauthenticated",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/v1/auth/me",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"me"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
						}
					]
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"logout"
							]
						},
						"description": "Logout from current device. Revokes the current access token and refresh token.\n\n**Authentication:**\n- Requires valid access token (Bearer token in Authorization header)\n\n**Request:**\n- Empty body\n- Refresh token is automatically read from httpOnly cookie\n\n**Behavior:**\n- Revokes current access token\n- Revokes refresh token from cookie\n- Clears refresh token cookie\n- Returns success response"
					},
					"response": [
						{
							"name": "Success",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer valid_token"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/logout",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"logout"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Logged out successfully.\"\n}"
						}
					]
				},
				{
					"name": "Logout All Devices",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/logout-all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"logout-all"
							]
						},
						"description": "Logout from all devices. Revokes all access and refresh tokens for the authenticated user.\n\n**Authentication:**\n- Requires valid access token\n\n**Use Cases:**\n- Security breach\n- Lost device\n- Account compromise\n- User wants to force logout from all sessions"
					},
					"response": [
						{
							"name": "Success",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer valid_token"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/auth/logout-all",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"logout-all"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Logged out from all devices successfully.\"\n}"
						}
					]
				},
				{
					"name": "Resend Verification Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/resend-verification",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"resend-verification"
							]
						},
						"description": "Resend email verification link to the authenticated user.\n\n**Authentication:**\n- Requires valid access token\n\n**Use Cases:**\n- User didn't receive original email\n- Verification email expired\n- User wants to verify email again"
					},
					"response": [
						{
							"name": "Success",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer valid_token"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/auth/resend-verification",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"resend-verification"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Verification email sent successfully.\"\n}"
						},
						{
							"name": "Error - Already Verified",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer valid_token"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/auth/resend-verification",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"resend-verification"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Email already verified.\"\n}"
						}
					]
				}
			],
			"description": "Protected endpoints that require authentication. Include Bearer token in Authorization header."
		},
		{
			"name": "Roles Management",
			"item": [
				{
					"name": "List Roles",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/roles?per_page=15&search=&guard_name=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search by role name"
								},
								{
									"key": "guard_name",
									"value": "",
									"description": "Filter by guard name"
								}
							]
						},
						"description": "Get a paginated list of all roles.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.view` permission\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `search`: Search by role name\n- `guard_name`: Filter by guard name"
					},
					"response": []
				},
				{
					"name": "Create Role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Manager\",\n    \"guard_name\": \"web\",\n    \"permissions\": [1, 2, 3]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/roles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles"
							]
						},
						"description": "Create a new role.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.create` permission\n\n**Required Fields:**\n- `name`: Role name (must be unique)\n\n**Optional Fields:**\n- `guard_name`: Guard name (default: 'web')\n- `permissions`: Array of permission IDs to assign to the role"
					},
					"response": []
				},
				{
					"name": "Get Role",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/roles/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Role ID"
								}
							]
						},
						"description": "Get a specific role by ID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.view` permission"
					},
					"response": []
				},
				{
					"name": "Update Role",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Manager\",\n    \"guard_name\": \"web\",\n    \"permissions\": [1, 2, 3, 4]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/roles/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Role ID"
								}
							]
						},
						"description": "Update a role.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.update` permission\n\n**Fields:**\n- `name`: Role name (optional, must be unique if provided)\n- `guard_name`: Guard name (optional)\n- `permissions`: Array of permission IDs to sync (optional)"
					},
					"response": []
				},
				{
					"name": "Delete Role",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/roles/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Role ID"
								}
							]
						},
						"description": "Delete a role.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.delete` permission"
					},
					"response": []
				},
				{
					"name": "Sync Role Permissions",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"permissions\": [1, 2, 3, 4, 5]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/roles/:id/permissions/sync",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles",
								":id",
								"permissions",
								"sync"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Role ID"
								}
							]
						},
						"description": "Sync permissions to a role. This will replace all existing permissions with the provided ones.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.update` permission\n\n**Required Fields:**\n- `permissions`: Array of permission IDs"
					},
					"response": []
				},
				{
					"name": "Give Permission to Role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"permission_id\": 5\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/roles/:id/permissions/give",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles",
								":id",
								"permissions",
								"give"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Role ID"
								}
							]
						},
						"description": "Give a specific permission to a role.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.update` permission\n\n**Required Fields:**\n- `permission_id`: Permission ID to grant"
					},
					"response": []
				},
				{
					"name": "Revoke Permission from Role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"permission_id\": 5\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/roles/:id/permissions/revoke",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"roles",
								":id",
								"permissions",
								"revoke"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Role ID"
								}
							]
						},
						"description": "Revoke a specific permission from a role.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.roles.update` permission\n\n**Required Fields:**\n- `permission_id`: Permission ID to revoke"
					},
					"response": []
				}
			],
			"description": "Role management endpoints. All endpoints require authentication and appropriate permissions."
		},
		{
			"name": "Permissions Management (Read Only)",
			"item": [
				{
					"name": "List Permissions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/permissions?per_page=15&search=&guard_name=&module=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"permissions"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search by permission name"
								},
								{
									"key": "guard_name",
									"value": "",
									"description": "Filter by guard name"
								},
								{
									"key": "module",
									"value": "",
									"description": "Filter by module (e.g., 'auth', 'properties')"
								}
							]
						},
						"description": "Get a paginated list of all permissions.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.permissions.view` permission\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `search`: Search by permission name\n- `guard_name`: Filter by guard name\n- `module`: Filter by module prefix (e.g., 'auth' for 'auth.users.view')\n\n**Note:**\nPermissions are hard-coded in seeders and cannot be created/updated/deleted via API. Only viewing operations are allowed."
					},
					"response": []
				},
				{
					"name": "Get Permissions Grouped by Module",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/permissions/grouped",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"permissions",
								"grouped"
							]
						},
						"description": "Get all permissions grouped by module in UI-friendly format.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.permissions.view` permission\n\n**Response Format:**\nPermissions are grouped by their module prefix (first part before the dot).\nExample: 'auth.users.view' is grouped under 'auth' module.\n\n**Note:**\nPermissions are hard-coded in seeders and cannot be created/updated/deleted via API. Only viewing operations are allowed."
					},
					"response": []
				},
				{
					"name": "Get Permission",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/permissions/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"permissions",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Permission ID"
								}
							]
						},
						"description": "Get a specific permission by ID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.permissions.view` permission\n\n**Note:**\nPermissions are hard-coded in seeders and cannot be created/updated/deleted via API. Only viewing operations are allowed."
					},
					"response": []
				}
			],
			"description": "Permission management endpoints (Read Only).\n\n**Important:**\nPermissions are hard-coded in seeders and cannot be created/updated/deleted via API. Only viewing and grouping operations are allowed.\n\nTo add new permissions, update the PermissionSeeder and run the seeder.\n\nAll endpoints require authentication and `auth.permissions.view` permission."
		},
		{
			"name": "Users Management",
			"item": [
				{
					"name": "List Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users?per_page=15&search=&type=&active=&verified=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search by email, name, or phone"
								},
								{
									"key": "type",
									"value": "",
									"description": "Filter by user type"
								},
								{
									"key": "active",
									"value": "",
									"description": "Filter by active status (true/false)"
								},
								{
									"key": "verified",
									"value": "",
									"description": "Filter by email verification (true/false)"
								}
							]
						},
						"description": "Get a paginated list of all users.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.view` permission\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `search`: Search by email, first name, last name, or phone\n- `type`: Filter by user type\n- `active`: Filter by active status (true/false)\n- `verified`: Filter by email verification status (true/false)"
					},
					"response": []
				},
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"newuser@example.com\",\n    \"password\": \"SecurePassword123!\",\n    \"password_confirmation\": \"SecurePassword123!\",\n    \"phone\": \"+966501234567\",\n    \"first\": \"John\",\n    \"last\": \"Doe\",\n    \"company\": \"Example Company\",\n    \"type\": \"owner\",\n    \"active\": true,\n    \"timezone\": \"Asia/Riyadh\",\n    \"locale\": \"ar\",\n    \"roles\": [1, 2],\n    \"is_default\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						},
						"description": "Create a new user.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.create` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**User Creation Behavior:**\n- **Super Admin**: Creates user without linking to any ownership. Can link later using Assign User endpoint.\n- **Owner (Non-Super Admin)**: Creates user and automatically links to ownership from cookie. User is immediately assigned to the current ownership scope.\n\n**Required Fields:**\n- `email`: User email (must be unique)\n- `password`: User password (min 8 characters)\n- `password_confirmation`: Must match password\n\n**Optional Fields:**\n- `phone`: Phone number (must be unique if provided)\n- `first`: First name\n- `last`: Last name\n- `company`: Company name\n- `type`: User type\n- `active`: Active status (default: true)\n- `timezone`: User timezone (default: Asia/Riyadh)\n- `locale`: User locale (default: ar)\n- `roles`: Array of role IDs to assign to the user\n- `is_default`: Set as default ownership for user (only for non-Super Admin, default: false)\n\n**Note:**\n- For non-Super Admin users, the `ownership_uuid` cookie determines which ownership the user will be linked to\n- If `is_default` is true, it will remove default flag from other ownerships for this user"
					},
					"response": []
				},
				{
					"name": "Get User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Get a specific user by ID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.view` permission (or can view own profile)\n\n**Note:**\nUsers can always view their own profile even without `auth.users.view` permission."
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"updated@example.com\",\n    \"first\": \"Jane\",\n    \"last\": \"Smith\",\n    \"company\": \"New Company\",\n    \"type\": \"admin\",\n    \"active\": true,\n    \"roles\": [1, 3]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Update a user.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.update` permission (or `auth.users.update.own` for own profile)\n\n**Fields:**\nAll fields are optional. Only provided fields will be updated.\n- `email`: User email (must be unique if provided)\n- `password`: New password (requires password_confirmation)\n- `phone`: Phone number (must be unique if provided)\n- `first`: First name\n- `last`: Last name\n- `company`: Company name\n- `type`: User type\n- `active`: Active status\n- `timezone`: User timezone\n- `locale`: User locale\n- `roles`: Array of role IDs to sync to the user"
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Delete a user.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.delete` permission\n\n**Note:**\nUsers cannot delete themselves."
					},
					"response": []
				},
				{
					"name": "Activate User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id/activate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id",
								"activate"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Activate a user account.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.activate` permission"
					},
					"response": []
				},
				{
					"name": "Deactivate User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id/deactivate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id",
								"deactivate"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Deactivate a user account.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.deactivate` permission\n\n**Note:**\nUsers cannot deactivate themselves."
					},
					"response": []
				},
				{
					"name": "Sync User Roles",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"roles\": [1, 2, 3]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id/roles/sync",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id",
								"roles",
								"sync"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Sync roles to a user. This will replace all existing roles with the provided ones.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.update` permission\n\n**Required Fields:**\n- `roles`: Array of role IDs\n\n**Behavior:**\n- Replaces all existing roles with the provided roles\n- If empty array is provided, all roles will be removed"
					},
					"response": []
				},
				{
					"name": "Assign Role to User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"role_id\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id/roles/assign",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id",
								"roles",
								"assign"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Assign a specific role to a user.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.update` permission\n\n**Required Fields:**\n- `role_id`: Role ID to assign\n\n**Behavior:**\n- Adds the role to the user's existing roles\n- If role already assigned, no error is thrown"
					},
					"response": []
				},
				{
					"name": "Remove Role from User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"role_id\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users/:id/roles/remove",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":id",
								"roles",
								"remove"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Remove a specific role from a user.\n\n**Authentication:**\n- Requires valid access token\n- Requires `auth.users.update` permission\n\n**Required Fields:**\n- `role_id`: Role ID to remove\n\n**Behavior:**\n- Removes the role from the user\n- If role not assigned, no error is thrown"
					},
					"response": []
				}
			],
			"description": "User management endpoints. All endpoints require authentication and appropriate permissions."
		},
		{
			"name": "Ownerships Management",
			"item": [
				{
					"name": "List Ownerships",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships?per_page=15&search=&type=&ownership_type=&city=&active=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search by name, legal, registration, or tax_id"
								},
								{
									"key": "type",
									"value": "",
									"description": "Filter by ownership type"
								},
								{
									"key": "ownership_type",
									"value": "",
									"description": "Filter by ownership category"
								},
								{
									"key": "city",
									"value": "",
									"description": "Filter by city"
								},
								{
									"key": "active",
									"value": "",
									"description": "Filter by active status (true/false)"
								}
							]
						},
						"description": "Get a paginated list of ownerships.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `search`: Search by name, legal name, registration, or tax_id\n- `type`: Filter by ownership type\n- `ownership_type`: Filter by ownership category\n- `city`: Filter by city\n- `active`: Filter by active status (true/false)\n\n**Note:**\n- Super Admin can view all ownerships\n- Regular users can only view ownerships they have access to\n- Results are automatically scoped by ownership_uuid cookie"
					},
					"response": []
				},
				{
					"name": "Create Ownership",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Example Company Ltd\",\n    \"legal\": \"Example Company Limited\",\n    \"type\": \"company\",\n    \"ownership_type\": \"commercial\",\n    \"registration\": \"CR123456789\",\n    \"tax_id\": \"123456789012345\",\n    \"street\": \"123 Main Street\",\n    \"city\": \"Riyadh\",\n    \"state\": \"Riyadh Province\",\n    \"country\": \"Saudi Arabia\",\n    \"zip_code\": \"12345\",\n    \"email\": \"info@example.com\",\n    \"phone\": \"+966501234567\",\n    \"active\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships"
							]
						},
						"description": "Create a new ownership.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.create` permission\n- **Only Super Admin can create ownerships**\n\n**Required Fields:**\n- `name`: Display name\n- `type`: Ownership type\n- `ownership_type`: Ownership category\n- `city`: City name\n\n**Optional Fields:**\n- `legal`: Legal/registered name\n- `registration`: Registration number (must be unique)\n- `tax_id`: Tax identification number\n- `street`: Street address\n- `state`: State/Province\n- `country`: Country (default: Saudi Arabia)\n- `zip_code`: Postal/ZIP code\n- `email`: Contact email\n- `phone`: Contact phone\n- `active`: Active status (default: true)"
					},
					"response": []
				},
				{
					"name": "Get Ownership",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/:uuid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								":uuid"
							],
							"variable": [
								{
									"key": "uuid",
									"value": "",
									"description": "Ownership UUID"
								}
							]
						},
						"description": "Get a specific ownership by UUID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n- User must have access to this ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Update Ownership",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Company Name\",\n    \"legal\": \"Updated Legal Name\",\n    \"email\": \"newemail@example.com\",\n    \"phone\": \"+966509876543\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/:uuid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								":uuid"
							],
							"variable": [
								{
									"key": "uuid",
									"value": "",
									"description": "Ownership UUID"
								}
							]
						},
						"description": "Update an ownership.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n- User must have access to this ownership (or be Super Admin)\n\n**Fields:**\nAll fields are optional. Only provided fields will be updated."
					},
					"response": []
				},
				{
					"name": "Delete Ownership",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/:uuid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								":uuid"
							],
							"variable": [
								{
									"key": "uuid",
									"value": "",
									"description": "Ownership UUID"
								}
							]
						},
						"description": "Delete an ownership.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.delete` permission\n- **Only Super Admin can delete ownerships**"
					},
					"response": []
				},
				{
					"name": "Activate Ownership",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/:uuid/activate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								":uuid",
								"activate"
							],
							"variable": [
								{
									"key": "uuid",
									"value": "",
									"description": "Ownership UUID"
								}
							]
						},
						"description": "Activate an ownership.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.activate` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n- User must have access to this ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Deactivate Ownership",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/:uuid/deactivate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								":uuid",
								"deactivate"
							],
							"variable": [
								{
									"key": "uuid",
									"value": "",
									"description": "Ownership UUID"
								}
							]
						},
						"description": "Deactivate an ownership.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.deactivate` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n- User must have access to this ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Switch Ownership",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    // ownership_uuid cookie is automatically set by server",
									"    // Cookies are managed automatically by Postman",
									"    pm.environment.set('ownership_uuid', response.data.uuid);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/:uuid/switch",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								":uuid",
								"switch"
							],
							"variable": [
								{
									"key": "uuid",
									"value": "",
									"description": "Ownership UUID to switch to"
								}
							]
						},
						"description": "Switch active ownership (sets ownership_uuid cookie).\n\n**Authentication:**\n- Requires valid access token\n- User must have access to this ownership (or be Super Admin)\n\n**Important:**\n- This endpoint sets the `ownership_uuid` cookie\n- All subsequent requests will use this ownership as the active scope\n- Cookie is httpOnly, secure (in production), and SameSite=strict\n- Cookie expires in 30 days\n\n**Note:**\nThe ownership_uuid cookie is automatically sent with all requests in Postman. View cookies by clicking 'Cookies' link below the URL bar."
					},
					"response": []
				},
				{
					"name": "List Board Members",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/board-members?per_page=15&user_id=&role=&active=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								"board-members"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Items per page"
								},
								{
									"key": "user_id",
									"value": "",
									"description": "Filter by user ID"
								},
								{
									"key": "role",
									"value": "",
									"description": "Filter by role"
								},
								{
									"key": "active",
									"value": "",
									"description": "Filter by active status (true/false)"
								}
							]
						},
						"description": "Get board members for the current ownership scope.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.board.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Note:**\n- Ownership is automatically determined from the `ownership_uuid` cookie\n- No need to specify ownership UUID in the URL\n- User must have access to the ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Add Board Member",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 1,\n    \"role\": \"Chairman\",\n    \"active\": true,\n    \"start_date\": \"2025-01-01\",\n    \"end_date\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/board-members",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								"board-members"
							]
						},
						"description": "Add a board member to the current ownership scope.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.board.manage` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Note:**\n- Ownership is automatically determined from the `ownership_uuid` cookie\n- No need to specify ownership UUID in the URL\n- User must have access to the ownership (or be Super Admin)\n\n**Required Fields:**\n- `user_id`: User ID (integer)\n- `role`: Board member role\n\n**Optional Fields:**\n- `active`: Active status (default: true)\n- `start_date`: Role start date\n- `end_date`: Role end date (must be after start_date)"
					},
					"response": []
				},
				{
					"name": "Update Board Member",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"role\": \"Vice Chairman\",\n    \"active\": true,\n    \"end_date\": \"2026-12-31\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/board-members/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								"board-members",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Board Member ID"
								}
							]
						},
						"description": "Update a board member in the current ownership scope.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.board.manage` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Note:**\n- Ownership is automatically determined from the `ownership_uuid` cookie\n- No need to specify ownership UUID in the URL\n- User must have access to the ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Remove Board Member",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/board-members/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								"board-members",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Board Member ID"
								}
							]
						},
						"description": "Remove a board member from the current ownership scope.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.board.manage` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Note:**\n- Ownership is automatically determined from the `ownership_uuid` cookie\n- No need to specify ownership UUID in the URL\n- User must have access to the ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Get Ownership Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								"users"
							]
						},
						"description": "Get all users mapped to the current ownership scope.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.users.assign` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Note:**\n- Ownership is automatically determined from the `ownership_uuid` cookie\n- No need to specify ownership UUID in the URL\n- User must have access to the ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Assign User to Ownership",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 1,\n    \"default\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/users/assign",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								"users",
								"assign"
							]
						},
						"description": "Assign a user to the current ownership scope.\n\n**Authentication:**\n- Requires valid access token\n- **Only Super Admin can use this endpoint**\n- Requires `ownerships.users.assign` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important:**\n- This endpoint is **primarily for Super Admin** to link users to ownerships after creation\n- **Regular owners should NOT use this endpoint**. They should create users directly, which auto-links them to the ownership\n- Ownership is automatically determined from the `ownership_uuid` cookie\n- No need to specify ownership UUID in the URL\n\n**Required Fields:**\n- `user_id`: User ID to assign (integer)\n\n**Optional Fields:**\n- `default`: Set as default ownership for user (default: false)\n\n**Note:**\n- If `default` is true, it will remove default flag from other ownerships for this user\n- Regular owners will receive a 403 error if they try to use this endpoint"
					},
					"response": []
				},
				{
					"name": "Remove User from Ownership",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ownerships/users/:user_uuid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"ownerships",
								"users",
								":user_uuid"
							],
							"variable": [
								{
									"key": "user_uuid",
									"value": "",
									"description": "User UUID"
								}
							]
						},
						"description": "Remove a user from the current ownership scope.\n\n**Authentication:**\n- Requires valid access token\n- Requires `ownerships.users.assign` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Note:**\n- Ownership is automatically determined from the `ownership_uuid` cookie\n- No need to specify ownership UUID in the URL\n- User must have access to the ownership (or be Super Admin)"
					},
					"response": []
				},
				{
					"name": "Get User Ownerships",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users/:user_uuid/ownerships",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":user_uuid",
								"ownerships"
							],
							"variable": [
								{
									"key": "user_uuid",
									"value": "",
									"description": "User UUID"
								}
							]
						},
						"description": "Get all ownerships for a user.\n\n**Authentication:**\n- Requires valid access token\n- Users can view their own ownerships\n- Super Admin can view any user's ownerships"
					},
					"response": []
				},
				{
					"name": "Set Default Ownership",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    // ownership_uuid cookie is automatically set by server if switching",
									"    pm.environment.set('ownership_uuid', response.data.ownership.uuid);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users/:user_uuid/ownerships/:ownership_uuid/set-default",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								":user_uuid",
								"ownerships",
								":ownership_uuid",
								"set-default"
							],
							"variable": [
								{
									"key": "user_uuid",
									"value": "",
									"description": "User UUID"
								},
								{
									"key": "ownership_uuid",
									"value": "",
									"description": "Ownership UUID to set as default"
								}
							]
						},
						"description": "Set default ownership for a user.\n\n**Authentication:**\n- Requires valid access token\n- Users can set their own default ownership\n- Super Admin can set default for any user\n\n**Note:**\nThis will remove the default flag from other ownerships for this user."
					},
					"response": []
				}
			],
			"description": "Ownership management endpoints with board members and user mapping support.\n\n**Important Notes:**\n- All endpoints require authentication and `ownership.scope` middleware\n- `ownership_uuid` cookie is automatically used for scoping\n- Super Admin can access all ownerships\n- Regular users can only access ownerships they are mapped to\n- Use 'Switch Ownership' endpoint to change active ownership (sets cookie)\n\n**Cookie Management:**\n- `ownership_uuid` cookie is set by 'Switch Ownership' endpoint\n- Cookie is httpOnly, secure (in production), and SameSite=strict\n- Cookie expires in 30 days\n- View cookies in Postman: Click 'Cookies' link below URL bar"
		},
		{
			"name": "Property Structure Management",
			"item": [
				{
					"name": "Portfolios",
					"item": [
						{
							"name": "List Portfolios",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/portfolios?per_page=15&search=&type=&parent_id=&active=",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"portfolios"
									],
									"query": [
										{
											"key": "per_page",
											"value": "15",
											"description": "Number of items per page"
										},
										{
											"key": "search",
											"value": "",
											"description": "Search by name, code, or description"
										},
										{
											"key": "type",
											"value": "",
											"description": "Filter by portfolio type"
										},
										{
											"key": "parent_id",
											"value": "",
											"description": "Filter by parent portfolio ID (null for root portfolios)"
										},
										{
											"key": "active",
											"value": "",
											"description": "Filter by active status (true/false)"
										}
									]
								},
								"description": "Get a paginated list of portfolios.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.portfolios.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `search`: Search by name, code, or description\n- `type`: Filter by portfolio type\n- `parent_id`: Filter by parent portfolio ID (use null for root portfolios)\n- `active`: Filter by active status (true/false)\n\n**Important Notes:**\n- **Ownership scope is MANDATORY** - All portfolios are automatically scoped to the ownership from `ownership_uuid` cookie\n- No difference between Super Admin and regular users - all must work within ownership scope\n- Results include relationships: ownership, parent, children, locations, buildings\n\n**Response Structure:**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"uuid\": \"...\",\n      \"name\": \"Portfolio Name\",\n      \"code\": \"PORT-001\",\n      \"type\": \"general\",\n      \"description\": \"...\",\n      \"area\": 1000.50,\n      \"active\": true,\n      \"ownership\": {...},\n      \"parent\": {...},\n      \"children\": [...],\n      \"locations\": [...],\n      \"buildings\": [...],\n      \"created_at\": \"...\",\n      \"updated_at\": \"...\"\n    }\n  ],\n  \"meta\": {...}\n}\n```"
							},
							"response": []
						},
						{
							"name": "Create Portfolio",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Main Portfolio\",\n    \"code\": \"PORT-001\",\n    \"type\": \"general\",\n    \"description\": \"Main property portfolio\",\n    \"area\": 1000.50,\n    \"parent_id\": null,\n    \"active\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/portfolios",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"portfolios"
									]
								},
								"description": "Create a new portfolio.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.portfolios.create` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Required Fields:**\n- `name`: Portfolio name\n- `code`: Unique portfolio code (unique within ownership)\n\n**Optional Fields:**\n- `type`: Portfolio type (default: 'general')\n- `description`: Portfolio description\n- `area`: Total area in square meters\n- `parent_id`: Parent portfolio ID (null for root portfolios)\n- `active`: Active status (default: true)\n\n**Important Notes:**\n- **Ownership ID is automatically set** from `ownership_uuid` cookie - DO NOT send it in request\n- Portfolio code must be unique within the ownership scope\n- Parent portfolio must belong to the same ownership\n- All users (including Super Admin) must work within ownership scope\n\n**Example Request:**\n```json\n{\n  \"name\": \"Main Portfolio\",\n  \"code\": \"PORT-001\",\n  \"type\": \"general\",\n  \"description\": \"Main property portfolio\",\n  \"area\": 1000.50,\n  \"parent_id\": null,\n  \"active\": true\n}\n```"
							},
							"response": []
						},
						{
							"name": "Get Portfolio",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/portfolios/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"portfolios",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Portfolio UUID"
										}
									]
								},
								"description": "Get a specific portfolio by UUID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.portfolios.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Portfolio must belong to the ownership from `ownership_uuid` cookie\n- Response includes full relationships: ownership, parent, children, locations, buildings\n- All users (including Super Admin) must work within ownership scope"
							},
							"response": []
						},
						{
							"name": "Update Portfolio",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Updated Portfolio Name\",\n    \"description\": \"Updated description\",\n    \"area\": 1500.75,\n    \"active\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/portfolios/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"portfolios",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Portfolio UUID"
										}
									]
								},
								"description": "Update a portfolio.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.portfolios.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Fields:**\nAll fields are optional. Only provided fields will be updated.\n- `name`: Portfolio name\n- `code`: Portfolio code (must be unique within ownership if changed)\n- `type`: Portfolio type\n- `description`: Portfolio description\n- `area`: Total area\n- `parent_id`: Parent portfolio ID (must belong to same ownership)\n- `active`: Active status\n\n**Important Notes:**\n- Portfolio must belong to the ownership from `ownership_uuid` cookie\n- Code must remain unique within ownership scope\n- Parent portfolio must belong to the same ownership"
							},
							"response": []
						},
						{
							"name": "Delete Portfolio",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/portfolios/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"portfolios",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Portfolio UUID"
										}
									]
								},
								"description": "Delete a portfolio.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.portfolios.delete` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Portfolio must belong to the ownership from `ownership_uuid` cookie\n- Deleting a portfolio will cascade delete all related buildings, floors, and units\n- Use with caution!"
							},
							"response": []
						},
						{
							"name": "Activate Portfolio",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/portfolios/:uuid/activate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"portfolios",
										":uuid",
										"activate"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Portfolio UUID"
										}
									]
								},
								"description": "Activate a portfolio.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.portfolios.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Portfolio must belong to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						},
						{
							"name": "Deactivate Portfolio",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/portfolios/:uuid/deactivate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"portfolios",
										":uuid",
										"deactivate"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Portfolio UUID"
										}
									]
								},
								"description": "Deactivate a portfolio.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.portfolios.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Portfolio must belong to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						}
					],
					"description": "Portfolio management endpoints. Portfolios are the top-level organizational unit for properties within an ownership.\n\n**Hierarchy:**\n- Ownership → Portfolio → Building → Floor → Unit\n\n**Key Features:**\n- Hierarchical structure (portfolios can have parent portfolios)\n- Multiple locations per portfolio\n- Contains multiple buildings\n- All operations scoped to ownership from cookie"
				},
				{
					"name": "Buildings",
					"item": [
						{
							"name": "List Buildings",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings?per_page=15&search=&type=&portfolio_id=&parent_id=&city=&active=",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings"
									],
									"query": [
										{
											"key": "per_page",
											"value": "15",
											"description": "Number of items per page"
										},
										{
											"key": "search",
											"value": "",
											"description": "Search by name, code, or description"
										},
										{
											"key": "type",
											"value": "",
											"description": "Filter by building type"
										},
										{
											"key": "portfolio_id",
											"value": "",
											"description": "Filter by portfolio ID"
										},
										{
											"key": "parent_id",
											"value": "",
											"description": "Filter by parent building ID (null for root buildings)"
										},
										{
											"key": "city",
											"value": "",
											"description": "Filter by city"
										},
										{
											"key": "active",
											"value": "",
											"description": "Filter by active status (true/false)"
										}
									]
								},
								"description": "Get a paginated list of buildings.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.buildings.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `search`: Search by name, code, or description\n- `type`: Filter by building type\n- `portfolio_id`: Filter by portfolio ID\n- `parent_id`: Filter by parent building ID (use null for root buildings)\n- `city`: Filter by city\n- `active`: Filter by active status (true/false)\n\n**Important Notes:**\n- **Ownership scope is MANDATORY** - All buildings are automatically scoped to the ownership from `ownership_uuid` cookie\n- No difference between Super Admin and regular users - all must work within ownership scope\n- Results include relationships: ownership, portfolio, parent, children, buildingFloors\n\n**Response Structure:**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"uuid\": \"...\",\n      \"name\": \"Building Name\",\n      \"code\": \"BLD-001\",\n      \"type\": \"residential\",\n      \"description\": \"...\",\n      \"street\": \"...\",\n      \"city\": \"Riyadh\",\n      \"floors_count\": 5,\n      \"year\": 2020,\n      \"active\": true,\n      \"ownership\": {...},\n      \"portfolio\": {...},\n      \"parent\": {...},\n      \"children\": [...],\n      \"floors\": [...],\n      \"created_at\": \"...\",\n      \"updated_at\": \"...\"\n    }\n  ],\n  \"meta\": {...}\n}\n```"
							},
							"response": []
						},
						{
							"name": "Create Building",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Tower A\",\n    \"code\": \"BLD-001\",\n    \"type\": \"residential\",\n    \"description\": \"Main residential building\",\n    \"portfolio_id\": 1,\n    \"street\": \"123 Main Street\",\n    \"city\": \"Riyadh\",\n    \"state\": \"Riyadh Province\",\n    \"country\": \"Saudi Arabia\",\n    \"zip_code\": \"12345\",\n    \"latitude\": 24.7136,\n    \"longitude\": 46.6753,\n    \"floors\": 5,\n    \"year\": 2020,\n    \"parent_id\": null,\n    \"active\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings"
									]
								},
								"description": "Create a new building.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.buildings.create` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Required Fields:**\n- `name`: Building name\n- `code`: Unique building code (unique within ownership)\n- `type`: Building type (e.g., residential, commercial, mixed)\n- `portfolio_id`: Portfolio ID (must belong to same ownership)\n\n**Optional Fields:**\n- `description`: Building description\n- `street`: Street address\n- `city`: City name\n- `state`: State/Province\n- `country`: Country (default: Saudi Arabia)\n- `zip_code`: Postal/ZIP code\n- `latitude`: Latitude coordinate\n- `longitude`: Longitude coordinate\n- `floors`: Number of floors (default: 1)\n- `year`: Construction year\n- `parent_id`: Parent building ID (null for root buildings)\n- `active`: Active status (default: true)\n\n**Important Notes:**\n- **Ownership ID is automatically set** from `ownership_uuid` cookie - DO NOT send it in request\n- Building code must be unique within the ownership scope\n- Portfolio must belong to the same ownership\n- Parent building must belong to the same ownership\n- All users (including Super Admin) must work within ownership scope\n\n**Example Request:**\n```json\n{\n  \"name\": \"Tower A\",\n  \"code\": \"BLD-001\",\n  \"type\": \"residential\",\n  \"portfolio_id\": 1,\n  \"floors\": 5,\n  \"year\": 2020,\n  \"active\": true\n}\n```"
							},
							"response": []
						},
						{
							"name": "Get Building",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Building UUID"
										}
									]
								},
								"description": "Get a specific building by UUID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.buildings.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Building must belong to the ownership from `ownership_uuid` cookie\n- Response includes full relationships: ownership, portfolio, parent, children, buildingFloors\n- All users (including Super Admin) must work within ownership scope"
							},
							"response": []
						},
						{
							"name": "Update Building",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Updated Building Name\",\n    \"description\": \"Updated description\",\n    \"floors\": 6,\n    \"active\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Building UUID"
										}
									]
								},
								"description": "Update a building.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.buildings.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Fields:**\nAll fields are optional. Only provided fields will be updated.\n- `name`: Building name\n- `code`: Building code (must be unique within ownership if changed)\n- `type`: Building type\n- `description`: Building description\n- `portfolio_id`: Portfolio ID (must belong to same ownership)\n- `street`, `city`, `state`, `country`, `zip_code`: Address fields\n- `latitude`, `longitude`: Coordinates\n- `floors`: Number of floors\n- `year`: Construction year\n- `parent_id`: Parent building ID (must belong to same ownership)\n- `active`: Active status\n\n**Important Notes:**\n- Building must belong to the ownership from `ownership_uuid` cookie\n- Code must remain unique within ownership scope\n- Portfolio and parent building must belong to the same ownership"
							},
							"response": []
						},
						{
							"name": "Delete Building",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Building UUID"
										}
									]
								},
								"description": "Delete a building.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.buildings.delete` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Building must belong to the ownership from `ownership_uuid` cookie\n- Deleting a building will cascade delete all related floors and units\n- Use with caution!"
							},
							"response": []
						},
						{
							"name": "Activate Building",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/:uuid/activate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										":uuid",
										"activate"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Building UUID"
										}
									]
								},
								"description": "Activate a building.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.buildings.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Building must belong to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						},
						{
							"name": "Deactivate Building",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/:uuid/deactivate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										":uuid",
										"deactivate"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Building UUID"
										}
									]
								},
								"description": "Deactivate a building.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.buildings.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Building must belong to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						}
					],
					"description": "Building management endpoints. Buildings belong to portfolios and contain floors and units.\n\n**Hierarchy:**\n- Ownership → Portfolio → Building → Floor → Unit\n\n**Key Features:**\n- Hierarchical structure (buildings can have parent buildings)\n- Geographic location (coordinates, address)\n- Contains multiple floors\n- Contains multiple units\n- All operations scoped to ownership from cookie"
				},
				{
					"name": "Building Floors",
					"item": [
						{
							"name": "List Building Floors",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/floors?per_page=15&building_id=&search=&active=",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										"floors"
									],
									"query": [
										{
											"key": "per_page",
											"value": "15",
											"description": "Number of items per page"
										},
										{
											"key": "building_id",
											"value": "",
											"description": "Filter by building ID"
										},
										{
											"key": "search",
											"value": "",
											"description": "Search by name or description"
										},
										{
											"key": "active",
											"value": "",
											"description": "Filter by active status (true/false)"
										}
									]
								},
								"description": "Get a paginated list of building floors.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.floors.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `building_id`: Filter by building ID (recommended)\n- `search`: Search by name or description\n- `active`: Filter by active status (true/false)\n\n**Important Notes:**\n- **Ownership scope is MANDATORY** - All floors are automatically scoped to the ownership from `ownership_uuid` cookie\n- Floors are filtered by building ownership (building must belong to ownership)\n- No difference between Super Admin and regular users - all must work within ownership scope\n- Results are ordered by floor number\n- Results include relationships: building.ownership, building.portfolio\n\n**Response Structure:**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": 1,\n      \"number\": 1,\n      \"name\": \"Ground Floor\",\n      \"description\": \"...\",\n      \"units\": 10,\n      \"active\": true,\n      \"building\": {\n        \"uuid\": \"...\",\n        \"name\": \"Building Name\",\n        \"code\": \"BLD-001\"\n      },\n      \"created_at\": \"...\",\n      \"updated_at\": \"...\"\n    }\n  ],\n  \"meta\": {...}\n}\n```"
							},
							"response": []
						},
						{
							"name": "Create Building Floor",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"building_id\": 1,\n    \"number\": 1,\n    \"name\": \"Ground Floor\",\n    \"description\": \"Main entrance floor\",\n    \"units\": 10,\n    \"active\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/floors",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										"floors"
									]
								},
								"description": "Create a new building floor.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.floors.create` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Required Fields:**\n- `building_id`: Building ID (must belong to same ownership)\n- `number`: Floor number (unique within building, can be negative for basements, e.g., -1, -2)\n\n**Optional Fields:**\n- `name`: Floor name (e.g., \"Ground Floor\", \"Basement 1\")\n- `description`: Floor description\n- `units`: Number of units on this floor (default: 0)\n- `active`: Active status (default: true)\n\n**Important Notes:**\n- **Ownership ID is automatically verified** from `ownership_uuid` cookie\n- Building must belong to the ownership from cookie\n- Floor number must be unique within the building\n- Floor numbers can be negative for basements (e.g., -1, -2)\n- All users (including Super Admin) must work within ownership scope\n\n**Example Request:**\n```json\n{\n  \"building_id\": 1,\n  \"number\": 1,\n  \"name\": \"Ground Floor\",\n  \"description\": \"Main entrance floor\",\n  \"units\": 10,\n  \"active\": true\n}\n```\n\n**Example for Basement:**\n```json\n{\n  \"building_id\": 1,\n  \"number\": -1,\n  \"name\": \"Basement 1\",\n  \"description\": \"Parking level\",\n  \"active\": true\n}\n```"
							},
							"response": []
						},
						{
							"name": "Get Building Floor",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/floors/:id",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										"floors",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "",
											"description": "Building Floor ID"
										}
									]
								},
								"description": "Get a specific building floor by ID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.floors.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Floor must belong to a building that belongs to the ownership from `ownership_uuid` cookie\n- Response includes relationships: building.ownership, building.portfolio\n- All users (including Super Admin) must work within ownership scope"
							},
							"response": []
						},
						{
							"name": "Update Building Floor",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Updated Floor Name\",\n    \"description\": \"Updated description\",\n    \"units\": 12,\n    \"active\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/floors/:id",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										"floors",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "",
											"description": "Building Floor ID"
										}
									]
								},
								"description": "Update a building floor.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.floors.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Fields:**\nAll fields are optional. Only provided fields will be updated.\n- `building_id`: Building ID (must belong to same ownership if changed)\n- `number`: Floor number (must be unique within building if changed)\n- `name`: Floor name\n- `description`: Floor description\n- `units`: Number of units\n- `active`: Active status\n\n**Important Notes:**\n- Floor must belong to a building that belongs to the ownership from `ownership_uuid` cookie\n- If building_id is changed, new building must belong to same ownership\n- Floor number must remain unique within the building"
							},
							"response": []
						},
						{
							"name": "Delete Building Floor",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/floors/:id",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										"floors",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "",
											"description": "Building Floor ID"
										}
									]
								},
								"description": "Delete a building floor.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.floors.delete` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Floor must belong to a building that belongs to the ownership from `ownership_uuid` cookie\n- Deleting a floor will set floor_id to null for related units (cascade set null)\n- Use with caution!"
							},
							"response": []
						},
						{
							"name": "Activate Building Floor",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/floors/:id/activate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										"floors",
										":id",
										"activate"
									],
									"variable": [
										{
											"key": "id",
											"value": "",
											"description": "Building Floor ID"
										}
									]
								},
								"description": "Activate a building floor.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.floors.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Floor must belong to a building that belongs to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						},
						{
							"name": "Deactivate Building Floor",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/buildings/floors/:id/deactivate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"buildings",
										"floors",
										":id",
										"deactivate"
									],
									"variable": [
										{
											"key": "id",
											"value": "",
											"description": "Building Floor ID"
										}
									]
								},
								"description": "Deactivate a building floor.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.floors.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Floor must belong to a building that belongs to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						}
					],
					"description": "Building floor management endpoints. Floors belong to buildings and contain units.\n\n**Hierarchy:**\n- Ownership → Portfolio → Building → Floor → Unit\n\n**Key Features:**\n- Floor numbers can be negative for basements (e.g., -1, -2)\n- Floor number must be unique within building\n- Contains multiple units\n- All operations scoped to ownership from cookie (via building ownership)"
				},
				{
					"name": "Units",
					"item": [
						{
							"name": "List Units",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/units?per_page=15&search=&type=&status=&building_id=&floor_id=&active=",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"units"
									],
									"query": [
										{
											"key": "per_page",
											"value": "15",
											"description": "Number of items per page"
										},
										{
											"key": "search",
											"value": "",
											"description": "Search by number, name, or description"
										},
										{
											"key": "type",
											"value": "",
											"description": "Filter by unit type (apartment, office, shop, etc.)"
										},
										{
											"key": "status",
											"value": "",
											"description": "Filter by status (available, rented, maintenance, reserved, sold)"
										},
										{
											"key": "building_id",
											"value": "",
											"description": "Filter by building ID"
										},
										{
											"key": "floor_id",
											"value": "",
											"description": "Filter by floor ID"
										},
										{
											"key": "active",
											"value": "",
											"description": "Filter by active status (true/false)"
										}
									]
								},
								"description": "Get a paginated list of units.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.units.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `search`: Search by number, name, or description\n- `type`: Filter by unit type (apartment, office, shop, etc.)\n- `status`: Filter by status (available, rented, maintenance, reserved, sold)\n- `building_id`: Filter by building ID\n- `floor_id`: Filter by floor ID\n- `active`: Filter by active status (true/false)\n\n**Important Notes:**\n- **Ownership scope is MANDATORY** - All units are automatically scoped to the ownership from `ownership_uuid` cookie\n- No difference between Super Admin and regular users - all must work within ownership scope\n- Results include relationships: ownership, building.portfolio, floor, specifications\n\n**Response Structure:**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"uuid\": \"...\",\n      \"number\": \"101\",\n      \"type\": \"apartment\",\n      \"name\": \"Unit 101\",\n      \"description\": \"...\",\n      \"area\": 120.50,\n      \"price_monthly\": 5000.00,\n      \"price_quarterly\": 14000.00,\n      \"price_yearly\": 55000.00,\n      \"status\": \"available\",\n      \"active\": true,\n      \"ownership\": {...},\n      \"building\": {...},\n      \"floor\": {...},\n      \"specifications\": [...],\n      \"created_at\": \"...\",\n      \"updated_at\": \"...\"\n    }\n  ],\n  \"meta\": {...}\n}\n```"
							},
							"response": []
						},
						{
							"name": "Create Unit",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"building_id\": 1,\n    \"floor_id\": 1,\n    \"number\": \"101\",\n    \"type\": \"apartment\",\n    \"name\": \"Unit 101\",\n    \"description\": \"2-bedroom apartment\",\n    \"area\": 120.50,\n    \"price_monthly\": 5000.00,\n    \"price_quarterly\": 14000.00,\n    \"price_yearly\": 55000.00,\n    \"status\": \"available\",\n    \"active\": true,\n    \"specifications\": [\n        {\n            \"key\": \"bedrooms\",\n            \"value\": \"2\",\n            \"type\": \"integer\"\n        },\n        {\n            \"key\": \"bathrooms\",\n            \"value\": \"2\",\n            \"type\": \"integer\"\n        },\n        {\n            \"key\": \"balcony\",\n            \"value\": \"true\",\n            \"type\": \"boolean\"\n        },\n        {\n            \"key\": \"parking\",\n            \"value\": \"1\",\n            \"type\": \"integer\"\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/units",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"units"
									]
								},
								"description": "Create a new unit.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.units.create` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Required Fields:**\n- `building_id`: Building ID (must belong to same ownership)\n- `number`: Unit number/identifier (unique within building)\n- `type`: Unit type (e.g., apartment, office, shop)\n- `area`: Unit area in square meters\n\n**Optional Fields:**\n- `floor_id`: Floor ID (must belong to the building)\n- `name`: Unit name\n- `description`: Unit description\n- `price_monthly`: Monthly rental price\n- `price_quarterly`: Quarterly rental price\n- `price_yearly`: Yearly rental price\n- `status`: Unit status (available, rented, maintenance, reserved, sold) - default: 'available'\n- `active`: Active status (default: true)\n- `specifications`: Array of unit specifications (key-value pairs)\n\n**Specifications Format:**\n```json\n\"specifications\": [\n    {\n        \"key\": \"bedrooms\",\n        \"value\": \"2\",\n        \"type\": \"integer\"\n    },\n    {\n        \"key\": \"bathrooms\",\n        \"value\": \"2\",\n        \"type\": \"integer\"\n    },\n    {\n        \"key\": \"balcony\",\n        \"value\": \"true\",\n        \"type\": \"boolean\"\n    },\n    {\n        \"key\": \"parking\",\n        \"value\": \"1\",\n        \"type\": \"integer\"\n    }\n]\n```\n\n**Important Notes:**\n- **Ownership ID is automatically set** from `ownership_uuid` cookie - DO NOT send it in request\n- Unit number must be unique within the building\n- Building must belong to the ownership from cookie\n- Floor must belong to the building (if provided)\n- All users (including Super Admin) must work within ownership scope\n- Specifications are created automatically with the unit\n\n**Example Request:**\n```json\n{\n  \"building_id\": 1,\n  \"floor_id\": 1,\n  \"number\": \"101\",\n  \"type\": \"apartment\",\n  \"area\": 120.50,\n  \"price_monthly\": 5000.00,\n  \"status\": \"available\",\n  \"specifications\": [\n    {\"key\": \"bedrooms\", \"value\": \"2\", \"type\": \"integer\"}\n  ]\n}\n```"
							},
							"response": []
						},
						{
							"name": "Get Unit",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/units/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"units",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Unit UUID"
										}
									]
								},
								"description": "Get a specific unit by UUID.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.units.view` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Unit must belong to the ownership from `ownership_uuid` cookie\n- Response includes full relationships: ownership, building.portfolio, floor, specifications\n- All users (including Super Admin) must work within ownership scope"
							},
							"response": []
						},
						{
							"name": "Update Unit",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Updated Unit Name\",\n    \"description\": \"Updated description\",\n    \"area\": 125.00,\n    \"price_monthly\": 5500.00,\n    \"status\": \"rented\",\n    \"active\": true,\n    \"specifications\": [\n        {\n            \"key\": \"bedrooms\",\n            \"value\": \"3\",\n            \"type\": \"integer\"\n        },\n        {\n            \"key\": \"bathrooms\",\n            \"value\": \"2\",\n            \"type\": \"integer\"\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/units/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"units",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Unit UUID"
										}
									]
								},
								"description": "Update a unit.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.units.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Fields:**\nAll fields are optional. Only provided fields will be updated.\n- `building_id`: Building ID (must belong to same ownership if changed)\n- `floor_id`: Floor ID (must belong to the building if changed)\n- `number`: Unit number (must be unique within building if changed)\n- `type`: Unit type\n- `name`: Unit name\n- `description`: Unit description\n- `area`: Unit area\n- `price_monthly`, `price_quarterly`, `price_yearly`: Rental prices\n- `status`: Unit status (available, rented, maintenance, reserved, sold)\n- `active`: Active status\n- `specifications`: Array of unit specifications (replaces all existing specifications)\n\n**Important Notes:**\n- Unit must belong to the ownership from `ownership_uuid` cookie\n- If building_id is changed, new building must belong to same ownership\n- If floor_id is changed, new floor must belong to the building\n- Unit number must remain unique within the building\n- **Specifications Update:** If `specifications` is provided, it will replace ALL existing specifications. To keep existing, omit this field.\n\n**Specifications Update Example:**\n```json\n{\n  \"specifications\": [\n    {\"key\": \"bedrooms\", \"value\": \"3\", \"type\": \"integer\"},\n    {\"key\": \"bathrooms\", \"value\": \"2\", \"type\": \"integer\"}\n  ]\n}\n```\nThis will delete all old specifications and create only these two."
							},
							"response": []
						},
						{
							"name": "Delete Unit",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/units/:uuid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"units",
										":uuid"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Unit UUID"
										}
									]
								},
								"description": "Delete a unit.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.units.delete` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Unit must belong to the ownership from `ownership_uuid` cookie\n- Deleting a unit will cascade delete all related specifications\n- Use with caution!"
							},
							"response": []
						},
						{
							"name": "Activate Unit",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/units/:uuid/activate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"units",
										":uuid",
										"activate"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Unit UUID"
										}
									]
								},
								"description": "Activate a unit.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.units.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Unit must belong to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						},
						{
							"name": "Deactivate Unit",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ownerships/units/:uuid/deactivate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"ownerships",
										"units",
										":uuid",
										"deactivate"
									],
									"variable": [
										{
											"key": "uuid",
											"value": "",
											"description": "Unit UUID"
										}
									]
								},
								"description": "Deactivate a unit.\n\n**Authentication:**\n- Requires valid access token\n- Requires `properties.units.update` permission\n- Requires `ownership.scope` middleware (ownership_uuid cookie)\n\n**Important Notes:**\n- Unit must belong to the ownership from `ownership_uuid` cookie"
							},
							"response": []
						}
					],
					"description": "Unit management endpoints. Units are the smallest property unit and belong to buildings and floors.\n\n**Hierarchy:**\n- Ownership → Portfolio → Building → Floor → Unit\n\n**Key Features:**\n- Unit number must be unique within building\n- Multiple pricing options (monthly, quarterly, yearly)\n- Status tracking (available, rented, maintenance, reserved, sold)\n- Flexible specifications system (key-value pairs)\n- All operations scoped to ownership from cookie\n\n**Unit Specifications:**\n- Specifications are key-value pairs stored in `unit_specifications` table\n- Common keys: bedrooms, bathrooms, balcony, parking, etc.\n- Type can be: integer, boolean, string\n- Specifications are managed automatically with unit create/update"
				}
			],
			"description": "Property Structure Management endpoints for managing the complete property hierarchy.\n\n**Complete Hierarchy:**\n```\nOwnership\n  └── Portfolio (محفظة)\n      └── Building (مبنى)\n          └── Floor (طابق)\n              └── Unit (وحدة)\n```\n\n**Key Concepts:**\n\n1. **Ownership Scope (MANDATORY):**\n   - ALL endpoints require `ownership.scope` middleware\n   - `ownership_uuid` cookie is automatically used for scoping\n   - **NO difference between Super Admin and regular users** - all must work within ownership scope\n   - Ownership ID is automatically set from cookie - DO NOT send it in requests\n\n2. **Hierarchical Structure:**\n   - Portfolios can have parent portfolios (nested structure)\n   - Buildings can have parent buildings (nested structure)\n   - Portfolios contain multiple buildings\n   - Buildings contain multiple floors\n   - Floors contain multiple units\n\n3. **Unique Constraints:**\n   - Portfolio code: Unique within ownership\n   - Building code: Unique within ownership\n   - Floor number: Unique within building\n   - Unit number: Unique within building\n\n4. **Relationships:**\n   - All entities are linked to ownership\n   - Buildings belong to portfolios\n   - Units belong to buildings and optionally floors\n   - All relationships are validated against ownership scope\n\n5. **Cascade Behavior:**\n   - Deleting portfolio → deletes all buildings, floors, units\n   - Deleting building → deletes all floors, units\n   - Deleting floor → sets floor_id to null for units (cascade set null)\n   - Deleting unit → deletes all specifications\n\n**Permissions Required:**\n- `properties.portfolios.view/create/update/delete`\n- `properties.buildings.view/create/update/delete`\n- `properties.floors.view/create/update/delete`\n- `properties.units.view/create/update/delete`\n\n**Cookie Management:**\n- `ownership_uuid` cookie must be set before accessing these endpoints\n- Use 'Switch Ownership' endpoint from Ownerships Management to set the cookie\n- Cookie is httpOnly, secure (in production), and SameSite=strict\n- View cookies in Postman: Click 'Cookies' link below URL bar"
		},
		{
			"name": "Notifications Management",
			"item": [
				{
					"name": "List Notifications",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications?per_page=15&read=&type=&category=&priority=&search=&include_expired=false",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Items per page"
								},
								{
									"key": "read",
									"value": "",
									"description": "Filter by read status (true/false)"
								},
								{
									"key": "type",
									"value": "",
									"description": "Filter by type (info, success, warning, error, system)"
								},
								{
									"key": "category",
									"value": "",
									"description": "Filter by category"
								},
								{
									"key": "priority",
									"value": "",
									"description": "Filter by priority (0=normal, 1=high, 2=urgent)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search in title and message"
								},
								{
									"key": "include_expired",
									"value": "false",
									"description": "Include expired notifications"
								}
							]
						},
						"description": "Get a paginated list of notifications for the authenticated user.\n\n**Authentication:**\n- Requires valid access token\n- Returns only notifications for the authenticated user\n\n**Query Parameters:**\n- `per_page`: Number of items per page (default: 15)\n- `read`: Filter by read status (true/false)\n- `type`: Filter by notification type\n- `category`: Filter by category\n- `priority`: Filter by priority level\n- `search`: Search in title and message\n- `include_expired`: Include expired notifications (default: false)\n\n**Response Includes:**\n- List of notifications\n- Unread count in meta"
					},
					"response": []
				},
				{
					"name": "Get Latest Notifications",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/latest?limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								"latest"
							],
							"query": [
								{
									"key": "limit",
									"value": "10",
									"description": "Number of notifications to return"
								}
							]
						},
						"description": "Get the latest notifications for the authenticated user.\n\n**Authentication:**\n- Requires valid access token\n\n**Query Parameters:**\n- `limit`: Number of notifications to return (default: 10)\n\n**Use Cases:**\n- Display notification dropdown\n- Show recent notifications in sidebar\n- Quick notification preview"
					},
					"response": []
				},
				{
					"name": "Get Unread Count",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/unread-count",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								"unread-count"
							]
						},
						"description": "Get the count of unread notifications for the authenticated user.\n\n**Authentication:**\n- Requires valid access token\n\n**Use Cases:**\n- Display badge count on notification icon\n- Poll periodically to update count\n- Show unread indicator"
					},
					"response": []
				},
				{
					"name": "Create Notification (System)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 1,\n    \"type\": \"info\",\n    \"title\": \"New Order Received\",\n    \"message\": \"You have received a new order #12345\",\n    \"data\": {\n        \"order_id\": 12345,\n        \"amount\": 1500.00\n    },\n    \"action_url\": \"/orders/12345\",\n    \"action_text\": \"View Order\",\n    \"icon\": \"shopping-cart\",\n    \"category\": \"orders\",\n    \"priority\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/notifications",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications"
							]
						},
						"description": "Create a new notification (System endpoint).\n\n**Authentication:**\n- Requires valid access token\n- Requires `notifications.create` permission\n\n**Required Fields:**\n- `user_id`: ID of the user to notify\n- `type`: Notification type (info, success, warning, error, system)\n- `title`: Notification title\n- `message`: Notification message\n\n**Optional Fields:**\n- `data`: Additional JSON data\n- `action_url`: URL for action button\n- `action_text`: Text for action button\n- `icon`: Icon name or URL\n- `category`: Category for grouping\n- `priority`: Priority level (0=normal, 1=high, 2=urgent)\n- `expires_at`: Expiration date/time\n\n**Real-time Broadcasting:**\nNotification is automatically broadcast to the user's private channel in real-time."
					},
					"response": []
				},
				{
					"name": "Get Notification",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Notification ID"
								}
							]
						},
						"description": "Get a specific notification by ID.\n\n**Authentication:**\n- Requires valid access token\n- Users can only view their own notifications"
					},
					"response": []
				},
				{
					"name": "Update Notification",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"read\": true,\n    \"action_url\": \"/updated-url\",\n    \"action_text\": \"Updated Action\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Notification ID"
								}
							]
						},
						"description": "Update a notification.\n\n**Authentication:**\n- Requires valid access token\n- Users can only update their own notifications\n\n**Fields:**\n- `read`: Mark as read/unread\n- `action_url`: Update action URL\n- `action_text`: Update action text"
					},
					"response": []
				},
				{
					"name": "Delete Notification",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Notification ID"
								}
							]
						},
						"description": "Delete a notification.\n\n**Authentication:**\n- Requires valid access token\n- Users can only delete their own notifications"
					},
					"response": []
				},
				{
					"name": "Mark Notification as Read",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/:id/read",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								":id",
								"read"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Notification ID"
								}
							]
						},
						"description": "Mark a notification as read.\n\n**Authentication:**\n- Requires valid access token\n- Users can only mark their own notifications as read"
					},
					"response": []
				},
				{
					"name": "Mark Notification as Unread",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/:id/unread",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								":id",
								"unread"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Notification ID"
								}
							]
						},
						"description": "Mark a notification as unread.\n\n**Authentication:**\n- Requires valid access token\n- Users can only mark their own notifications as unread"
					},
					"response": []
				},
				{
					"name": "Mark All as Read",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/mark-all-read",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								"mark-all-read"
							]
						},
						"description": "Mark all notifications as read for the authenticated user.\n\n**Authentication:**\n- Requires valid access token\n\n**Response:**\n- Returns count of notifications marked as read"
					},
					"response": []
				},
				{
					"name": "Delete All Read",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/delete-all-read",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notifications",
								"delete-all-read"
							]
						},
						"description": "Delete all read notifications for the authenticated user.\n\n**Authentication:**\n- Requires valid access token\n\n**Response:**\n- Returns count of notifications deleted"
					},
					"response": []
				}
			],
			"description": "Notification management endpoints with real-time broadcasting support. All endpoints require authentication. Notifications are automatically broadcast to users in real-time when created."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		}
	]
}